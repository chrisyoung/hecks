#!/usr/bin/env bash
set -xe

cd hecks-application/lib
while read -r version; do VERSION=$version; done < Version
cd ../..

cd hecks-events
gem build hecks-events
gem install --no-rdoc --no-ri  -q ./hecks-events-$VERSION.gem

cd ../hecks-domain-builder
gem build hecks-domain-builder
gem install --no-rdoc --no-ri  -q ./hecks-domain-builder-$VERSION.gem

cd ../hecks-domain
gem build hecks-domain
gem install --no-rdoc --no-ri -q ./hecks-domain-$VERSION.gem

cd ../hecks-logger
gem build hecks-logger
gem install --no-rdoc --no-ri  -q ./hecks-logger-$VERSION.gem

cd ../hecks-validator
gem build hecks-validator
gem install --no-rdoc --no-ri  -q ./hecks-validator-$VERSION.gem

cd ../hecks-console
gem build hecks-console
gem install --no-rdoc --no-ri  -q ./hecks-console-$VERSION.gem


cd ../hecks-memory-database
gem build hecks-memory-database
gem install --no-rdoc --no-ri  -q ./hecks-memory-database-$VERSION.gem

cd ../hecks-application
gem build hecks-application
gem install --no-rdoc --no-ri  -q ./hecks-application-$VERSION.gem

cd ../hecks-adapters-sql-database
gem build hecks-adapters-sql-database
gem install --no-rdoc --no-ri  -q ./hecks-adapters-sql-database-$VERSION.gem

cd ../hecks-adapters-resource-server
gem build hecks-adapters-resource-server
gem install --no-rdoc --no-ri  -q ./hecks-adapters-resource-server-$VERSION.gem

cd ../hecks-cli
gem build hecks-cli
gem install --no-rdoc --no-ri  -q ./hecks-cli-$VERSION.gem

cd ../hecks-adapters-dynamodb
gem build hecks-adapters-dynamodb
gem install --no-rdoc --no-ri  -q ./hecks-adapters-dynamodb-$VERSION.gem

cd ../hecks-packager
gem build hecks-packager
gem install --no-rdoc --no-ri  -q ./hecks-packager-$VERSION.gem

cd ../hecks-serverless
gem build hecks-serverless
gem install --no-rdoc --no-ri  -q ./hecks-serverless-$VERSION.gem


cd ../hecks
gem build hecks
gem install --no-rdoc --no-ri  -q ./hecks-$VERSION.gem
